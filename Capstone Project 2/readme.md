Lending Club is a website which provides personal and business loans. They release information such as income, employment, loan status,
etc. on loan applications. The goal of this project was to predict the probability of a personal loan to become charged off. This will help Lending Club have a better understanding of the risks of future applications. 

The dataset had 150 features and more than two million samples. Only samples whose loan status was charged-off or fully-paid were kept. Features which were not available at the time a loan application was submitted, features with unique value for each sample, and features with a single value across all samples were removed. Features with more than 50% missing values were removed too. 

Some categorical features contained date or time; they were transformed to datetime format first, and then replaced with new categorical or numerical features based on the information extracted from them. Some categorical features had high cardinality problem; they were converted to numerical features. The impact of each remaining categorical feature on the response variable was investigated by analyzing a bar plot which showed the charged-off ratio across all levels of the feature; if the ratio was similar across all levels, it indicated the feature did not have a substantial impact on the loan status and could be removed. None of the categorical features which were kept had missing values

Highly correlated numerical features were identified with the help of heatmap. Only one feature from each group of highly correlated ones was kept and the rest were removed. Missing values of numerical features were filled with their median values. Also, some numerical features had quite large number of zeros; these features were binarized, i.e. they were replaced with categorical features with two levels; zero and non-zero. Outliers of the numerical features were handled in three steps; first, they were capped and floored by applying conservative thresholds. Second, boxcox or logarithmic transformation was applied on highly skewed features, and third, the transformed features were capped and floored again if they still had some outliers. 

Around 20% of the samples were charged-off. The problem of imbalanced data was addressed by adjusting parameters of classifiers. Also, stratified folds were used in cross-validation processes. The stratified split was used to separate train and test sets too. The first developed classifier was logistic regression. No improvement in recall score was observed after parameter tuning and also adding interaction terms. The next classifier was XGBoost. Parameter tuning slightly improved its recall score. The average 3-fold cross-validation recall and accuracy scores of the logistic regression model were only around 1.5% less than the corresponding scores of the XGBoost classifier. The logistic regression model was also more interpretable, and therefore, it was selected as the final model. Since the features were scaled before developing the logistic regression model, their coefficients represented their importance. Loan term, loan grade, employment title, loan amount, debt to income ratio, and interest rate were the most important features to predict the probability of a loan to become charged-off according to the logistic regression model. At the end, recall and accuracy scores of the test set were computed. Both scores were quite close to the average 3-fold cross-validation scores of the train set.


Report: https://docs.google.com/document/d/1S99Rujjj_ekAYf4ji38Mi5q55JaPJedkUgKtO_ghLrU/edit?usp=sharing
Presentation: https://docs.google.com/presentation/d/1fE-CMOeFt8ID8lGjbXx7WgcoCMHSkhsF03v2rMzsqMI/edit?usp=sharing
